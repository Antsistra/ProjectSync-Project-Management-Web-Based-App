import {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarHeader,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarGroupAction,
} from "@/components/ui/sidebar";
import { FaHome, FaTasks } from "react-icons/fa";

import { Link } from "react-router-dom";

import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
} from "../ui/dropdown-menu";
import CreateProjectDialog from "./createProjectDialog";
import JoinProjectDialog from "./joinProjectDialog";
import { useEffect, useState } from "react";
import { supabase } from "@/lib/supabase";
import { useProjects } from "@/hooks/useProjects";
import AccountSettingsDialog from "./accountSettingsDialog";
import UpdatePasswordDialog from "./updatePasswordDialog";

const items = [
  {
    title: "Home",
    url: "/dashboard",
    icon: <FaHome />,
  },
  {
    title: "My Tasks",
    url: "/my-task",
    icon: <FaTasks />,
  },
];
export function AppSidebar() {
  const imgBaseUrl = import.meta.env.VITE_SUPABASE_IMG_BASE_URL;
  const { projects, error, fetchListProject } = useProjects();
  const [userName, setUserName] = useState("");

  const fetchUserName = async () => {
    const userId = localStorage.getItem("id"); // Ambil userId dari localStorage

    if (!userId) {
      return null;
    }

    const { data, error } = await supabase
      .from("User") // Mengambil data dari tabel User
      .select("name")
      .eq("supabaseId", userId); // Menyaring berdasarkan userId

    if (error) {
      return null;
    }
    setUserName(data[0].name);
    return data[0].name;
  };

  const handleSignOut = async () => {
    const { error } = await supabase.auth.signOut();

    if (error) {
      localStorage.clear();
      console.log(error);
    }
    localStorage.clear();
    window.location.href = "/login";
  };
  useEffect(() => {
    fetchUserName();
  }, []);

  return (
    <Sidebar className="">
      <SidebarHeader>
        <SidebarMenu>
          <SidebarMenuButton className="font-bold text-xl">
            <div className="">
              <svg
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                viewBox="0 0 500 500"
              >
                <path
                  d="M0 0 C2.07922921 1.79366983 3.91133155 3.73528887 5.78515625 5.7421875 C8.11651961 8.11878013 10.56557899 10.13827199 13.1875 12.1875 C16.70967035 14.9430488 19.87592689 17.79371444 23 21 C25.12720256 22.83476228 27.2680559 24.65044956 29.42578125 26.44921875 C29.94527344 26.96097656 30.46476563 27.47273438 31 28 C31 28.66 31 29.32 31 30 C31.639375 30.309375 32.27875 30.61875 32.9375 30.9375 C35 32 35 32 36 33 C37.49663286 33.16836884 39.00011675 33.27645857 40.50390625 33.359375 C91.60439341 36.61020646 138.34465287 57.20981256 172.4765625 95.92578125 C190.64384714 118.05837105 209 149.35351268 209 179 C209.66386719 178.96519531 210.32773437 178.93039063 211.01171875 178.89453125 C217.78956885 178.68674314 221.11212096 179.43299641 226.25 184 C230.48534942 188.84039934 229.22378814 195.81350769 229.25 201.875 C229.2809375 203.65197266 229.2809375 203.65197266 229.3125 205.46484375 C229.31765625 206.60824219 229.3228125 207.75164062 229.328125 208.9296875 C229.3374707 209.97366699 229.34681641 211.01764648 229.35644531 212.09326172 C228.72413902 217.24958959 225.82725065 220.65115568 222 224 C218.85069107 225.04976964 216.61185544 225.10131595 213.3125 225.0625 C212.31863281 225.05347656 211.32476562 225.04445313 210.30078125 225.03515625 C209.54152344 225.02355469 208.78226562 225.01195312 208 225 C207.938125 226.27875 207.87625 227.5575 207.8125 228.875 C203.91592902 266.26101883 178.45352495 302.71984323 150 326 C139.60430121 334.01830405 128.66120956 340.98035839 117 347 C116.38447266 347.31807617 115.76894531 347.63615234 115.13476562 347.96386719 C101.40253965 354.94672599 83.62472235 363 68 363 C68.02356567 364.18758911 68.02356567 364.18758911 68.04760742 365.39916992 C68.11006699 368.99520695 68.14902635 372.5911297 68.1875 376.1875 C68.21263672 377.43337891 68.23777344 378.67925781 68.26367188 379.96289062 C68.27817383 381.7659668 68.27817383 381.7659668 68.29296875 383.60546875 C68.31653442 385.26292114 68.31653442 385.26292114 68.34057617 386.95385742 C67.95459221 390.40613116 67.10646432 392.25772705 65 395 C62.125 396 62.125 396 59 396 C55.25959253 394.09666866 52.57453534 391.76898394 49.6875 388.75 C46.2934883 385.27770796 42.85460351 381.99320116 39.11328125 378.8984375 C37 377 37 377 34.79296875 374.4140625 C27.39503777 366.28216356 21.34983555 365.93971837 10.8125 365.40234375 C-33.59413023 362.97810424 -76.39520221 338.29837402 -105.85595703 305.88305664 C-123.59442845 285.69450255 -144.12516976 253.12924403 -143 225 C-143.73605469 225.03480469 -144.47210938 225.06960938 -145.23046875 225.10546875 C-152.33408411 225.30253073 -155.8684862 224.78356782 -161.25 220 C-165.48534942 215.15960066 -164.22378814 208.18649231 -164.25 202.125 C-164.270625 200.94035156 -164.29125 199.75570312 -164.3125 198.53515625 C-164.31765625 197.39175781 -164.3228125 196.24835938 -164.328125 195.0703125 C-164.3374707 194.02633301 -164.34681641 192.98235352 -164.35644531 191.90673828 C-163.72413902 186.75041041 -160.82725065 183.34884432 -157 180 C-153.98509443 178.99503148 -151.95818308 178.89664697 -148.8125 178.9375 C-147.91144531 178.94652344 -147.01039063 178.95554688 -146.08203125 178.96484375 C-145.05142578 178.98224609 -145.05142578 178.98224609 -144 179 C-143.9071875 177.1128125 -143.9071875 177.1128125 -143.8125 175.1875 C-139.82647894 136.94324391 -115.52523926 98.8565243 -86.09838867 74.92041016 C-63.55253322 56.98851856 -38.62093002 45.71446348 -11 38 C-11.02356567 36.53977417 -11.02356567 36.53977417 -11.04760742 35.05004883 C-11.10206239 31.42529633 -11.13640626 27.80057974 -11.16479492 24.17553711 C-11.17984622 22.60906893 -11.20029207 21.04264264 -11.22631836 19.47631836 C-11.26286433 17.21978394 -11.27976261 14.96380847 -11.29296875 12.70703125 C-11.30845261 12.01100296 -11.32393646 11.31497467 -11.33988953 10.59785461 C-11.34139243 6.21829975 -10.68834581 3.48165496 -8 0 C-4.85205492 -1.57397254 -3.36641385 -1.05979695 0 0 Z M27 120 C25.80667112 121.12268784 24.57841873 122.20985022 23.3125 123.25 C20.58467634 125.57535787 17.94795663 127.97562855 15.34375 130.4375 C14.68205811 131.06237305 14.02036621 131.68724609 13.33862305 132.33105469 C12.01104128 133.58841012 10.68684914 134.84935641 9.36645508 136.11425781 C0.98756218 144.03897181 0.98756218 144.03897181 -4.1875 143.9375 C-7 143 -7 143 -8.16357422 141.23925781 C-9.09748882 138.73900541 -9.22944894 136.89701697 -9.1953125 134.234375 C-9.18886719 133.34492188 -9.18242187 132.45546875 -9.17578125 131.5390625 C-9.15902344 130.61867187 -9.14226562 129.69828125 -9.125 128.75 C-9.11597656 127.81414062 -9.10695312 126.87828125 -9.09765625 125.9140625 C-9.07413636 123.60911343 -9.04126853 121.3046884 -9 119 C-20.20271402 122.42534978 -29.31600253 129.32384326 -38 137 C-38.63550781 137.55171875 -39.27101563 138.1034375 -39.92578125 138.671875 C-51.04733389 149.00085722 -59.67670659 164.27797074 -63 179 C-62.3294458 179.01458252 -61.6588916 179.02916504 -60.96801758 179.04418945 C-57.91561178 179.118883 -54.86427415 179.21547299 -51.8125 179.3125 C-50.75740234 179.33505859 -49.70230469 179.35761719 -48.61523438 179.38085938 C-47.59365234 179.41630859 -46.57207031 179.45175781 -45.51953125 179.48828125 C-44.11344604 179.52755737 -44.11344604 179.52755737 -42.67895508 179.56762695 C-38.28932564 180.27609626 -34.83158814 182.60209424 -32 186 C-30.29190379 191.12428862 -30.77319685 196.51072927 -30.75 201.875 C-30.729375 203.05964844 -30.70875 204.24429688 -30.6875 205.46484375 C-30.67976563 207.17994141 -30.67976563 207.17994141 -30.671875 208.9296875 C-30.65785645 210.49565674 -30.65785645 210.49565674 -30.64355469 212.09326172 C-31.20205391 216.64770813 -33.49762536 220.08135447 -37 223 C-39.85506049 223.95168683 -41.90937282 224.1900946 -44.88671875 224.31640625 C-45.82451172 224.35830078 -46.76230469 224.40019531 -47.72851562 224.44335938 C-48.70498047 224.48267578 -49.68144531 224.52199219 -50.6875 224.5625 C-51.67556641 224.60568359 -52.66363281 224.64886719 -53.68164062 224.69335938 C-56.12095546 224.79941654 -58.56037113 224.90147714 -61 225 C-62.33907144 227.09108547 -62.33907144 227.09108547 -61.06640625 229.8359375 C-50.20654852 255.39186245 -31.19692723 273.79845443 -5.5 284.3125 C-3.01393846 285.25906495 -0.51595698 286.13152113 2 287 C3.21171875 287.44601562 4.4234375 287.89203125 5.671875 288.3515625 C10.84469882 289.92148064 14.21591613 290.93747513 19.14453125 288.34765625 C22.00007084 286.05022748 24.49480903 283.6722037 27 281 C30.65115974 277.2870514 34.42921955 273.88248056 38.42578125 270.55078125 C38.94527344 270.03902344 39.46476562 269.52726563 40 269 C40 268.34 40 267.68 40 267 C40.59312988 266.73195557 41.18625977 266.46391113 41.79736328 266.18774414 C44.01687486 264.99090045 45.46758336 263.77205337 47.2421875 261.99609375 C48.12970703 261.13274414 48.12970703 261.13274414 49.03515625 260.25195312 C50.2597253 259.04428364 51.47852244 257.83073282 52.69140625 256.61132812 C56.27120906 253.15188745 58.75114755 250.94766102 64 251 C67 253 67 253 67.68359375 256.375 C68.182408 261.90571236 68.10763281 267.45213568 68.0625 273 C68.05798828 274.06089844 68.05347656 275.12179687 68.04882812 276.21484375 C68.03713843 278.80995598 68.02075276 281.40494709 68 284 C91.45994095 276.55560987 109.7617588 260.10073044 121.07006836 238.34033203 C123.29991701 233.92746799 125.2652588 229.92276606 126 225 C125.39003174 224.98541748 124.78006348 224.97083496 124.15161133 224.95581055 C121.37128936 224.88105225 118.59213176 224.78448518 115.8125 224.6875 C114.85279297 224.66494141 113.89308594 224.64238281 112.90429688 224.61914062 C106.70921312 224.38334159 103.0409216 223.60650422 98.25 219.5 C94.46786783 214.9614414 95.77396687 207.66733975 95.75 202.125 C95.7190625 200.34802734 95.7190625 200.34802734 95.6875 198.53515625 C95.67976563 196.82005859 95.67976563 196.82005859 95.671875 195.0703125 C95.6625293 194.02633301 95.65318359 192.98235352 95.64355469 191.90673828 C96.20205391 187.35229187 98.49762536 183.91864553 102 181 C104.9195043 180.0268319 107.05444951 179.8070454 110.10546875 179.68359375 C111.08837891 179.64169922 112.07128906 179.59980469 113.08398438 179.55664062 C114.10814453 179.51732422 115.13230469 179.47800781 116.1875 179.4375 C117.22326172 179.39431641 118.25902344 179.35113281 119.32617188 179.30664062 C121.8839819 179.20055634 124.44188845 179.09849854 127 179 C120.36971981 155.45616127 105.94752987 136.75736386 85 124 C75.57427288 118.7644651 65.5311488 114.38261285 55 112 C53.93749023 111.74669922 53.93749023 111.74669922 52.85351562 111.48828125 C40.47535685 108.70031323 35.05205483 109.45165595 27 120 Z "
                  fill="#0F2333"
                  transform="translate(207,41)"
                />
                <path
                  d="M0 0 C16.17 0 32.34 0 49 0 C47.71322972 7.72062169 46.61336571 14.14180343 43.875 21.25 C43.56860596 22.05791992 43.26221191 22.86583984 42.9465332 23.69824219 C36.36467626 40.65770982 27.62414744 56.5350811 15.0625 69.81640625 C13.21285185 71.77465116 11.51683024 73.79145628 9.8125 75.875 C-3.44834479 90.99541153 -20.9301245 101.64624961 -39 110 C-40.16273438 110.54527344 -41.32546875 111.09054687 -42.5234375 111.65234375 C-56.90663888 118.11984735 -71.49013477 121.52363496 -87 124 C-87 133.57 -87 143.14 -87 153 C-92.1384263 149.14618027 -96.18257546 146.04247818 -100.5 141.5625 C-104.24644439 137.72258922 -108.0915739 134.09255887 -112.171875 130.609375 C-114.64033969 128.43628215 -116.91535363 126.09527631 -119.21875 123.75 C-121.08389674 121.91757513 -123.01927746 120.20646865 -125 118.5 C-128.22415933 115.72226273 -131.22568767 112.80360687 -134.19921875 109.76171875 C-136.77083605 107.2458849 -139.52427744 104.96135119 -142.30078125 102.67578125 C-144.1058908 100.89556976 -144.92753375 99.2741206 -146 97 C-143.50217427 94.64351776 -141.00133185 92.29025984 -138.5 89.9375 C-137.80390625 89.28072266 -137.1078125 88.62394531 -136.390625 87.94726562 C-132.2830272 84.08688436 -128.11403089 80.31852571 -123.85742188 76.62329102 C-121.19374881 74.295378 -118.59836964 71.9006676 -116 69.5 C-112.0741946 65.88378714 -108.10963956 62.3221505 -104.078125 58.82421875 C-96.47495764 52.23689977 -96.47495764 52.23689977 -89.30078125 45.203125 C-88 44 -88 44 -86 44 C-86 55.55 -86 67.1 -86 79 C-54.60020763 70.02863075 -27.82536058 54.95619462 -11.04052734 25.91943359 C-6.55666526 17.64817041 -3.29583031 8.78888082 0 0 Z "
                  fill="#E0E0E0"
                  transform="translate(350,266)"
                />
                <path
                  d="M0 0 C2 0 2 0 4.10546875 2.0078125 C4.54552246 2.46575195 4.98557617 2.92369141 5.43896484 3.39550781 C8.62084729 6.66596941 11.9901804 9.74845473 15.3125 12.875 C16.03373047 13.55691406 16.75496094 14.23882812 17.49804688 14.94140625 C21.64240664 18.84416657 25.8496993 22.65232455 30.14916992 26.38330078 C32.8111123 28.70850622 35.4038971 31.10142667 38 33.5 C42.60498102 37.74028736 47.26737113 41.90295146 52 46 C53.50064092 47.31176715 55.00064969 48.62425786 56.5 49.9375 C57.50546875 50.81728516 57.50546875 50.81728516 58.53125 51.71484375 C59.0159375 52.13894531 59.500625 52.56304687 60 53 C58.68572922 55.93747848 57.31497601 57.8980337 54.9453125 60.06640625 C54.33703613 60.62827637 53.72875977 61.19014648 53.10205078 61.76904297 C52.44962402 62.36088379 51.79719727 62.95272461 51.125 63.5625 C50.44808105 64.18527832 49.77116211 64.80805664 49.07373047 65.44970703 C47.05432113 67.30554754 45.02812282 69.15369122 43 71 C41.04072467 72.79063941 39.08296052 74.58292225 37.125 76.375 C36.16851562 77.24898438 35.21203125 78.12296875 34.2265625 79.0234375 C30.28360631 82.64595027 26.39438663 86.32545085 22.5 90 C17.3520911 94.853677 12.20043162 99.70255385 7 104.5 C6.05125 105.3765625 5.1025 106.253125 4.125 107.15625 C2 109 2 109 1 109 C0.97494385 108.25838623 0.9498877 107.51677246 0.92407227 106.75268555 C0.80813868 103.39744672 0.68540015 100.04249056 0.5625 96.6875 C0.52318359 95.52025391 0.48386719 94.35300781 0.44335938 93.15039062 C0.38051758 91.47299805 0.38051758 91.47299805 0.31640625 89.76171875 C0.27974854 88.73006592 0.24309082 87.69841309 0.20532227 86.63549805 C0.09838758 83.89251742 0.09838758 83.89251742 -1 81 C-28.91403487 88.26529675 -53.8532462 106.24137 -68.546875 131.21484375 C-73.21306685 139.5230783 -76.69283016 147.73012117 -79 157 C-79.33 158.32 -79.66 159.64 -80 161 C-96.17 161 -112.34 161 -129 161 C-126.66240246 145.80561597 -126.66240246 145.80561597 -123.875 138.1875 C-123.56860596 137.33639648 -123.26221191 136.48529297 -122.9465332 135.60839844 C-116.958273 119.41573122 -108.51153027 102.06474749 -96.375 89.578125 C-94.9090541 88.03918651 -94.9090541 88.03918651 -94.05859375 86.015625 C-92.76265259 83.54807652 -91.21170848 82.26099019 -89.0625 80.5 C-86.92507688 78.7421193 -85.16334576 77.23018915 -83.55859375 74.96875 C-81.65544832 72.56477683 -79.65185793 71.52315846 -77 70 C-75.17530289 68.5569571 -73.36419109 67.09666626 -71.5625 65.625 C-57.89691554 54.87747104 -42.61269853 46.15919957 -26 41 C-25.16597656 40.73074707 -24.33195312 40.46149414 -23.47265625 40.18408203 C-20.77809109 39.31538786 -18.07848208 38.46551037 -15.375 37.625 C-14.11212158 37.22970093 -14.11212158 37.22970093 -12.82373047 36.82641602 C-12.02338379 36.58721436 -11.22303711 36.3480127 -10.3984375 36.1015625 C-9.34148682 35.78179443 -9.34148682 35.78179443 -8.26318359 35.45556641 C-6 35 -6 35 0 35 C0 23.45 0 11.9 0 0 Z "
                  fill="#E0E0E0"
                  transform="translate(208,59)"
                />
                <path
                  d="M0 0 C31.40890074 1.99421592 64.57466805 17.21085213 88 38 C88.76908691 38.67071533 88.76908691 38.67071533 89.55371094 39.35498047 C115.13539029 61.73318826 132.61632083 91.50445989 139 125 C139 125.99 139 126.98 139 128 C122.5 128 106 128 89 128 C88.01 124.04 87.02 120.08 86 116 C84.86443093 113.08400249 83.73825911 110.35624277 82.375 107.5625 C82.02800049 106.84296143 81.68100098 106.12342285 81.32348633 105.38208008 C68.48310478 79.5091558 46.10011742 60.36979181 18.98632812 50.68383789 C11.79101282 48.28193896 4.42199598 46.53946965 -3 45 C0.11327852 41.18623381 3.20177382 37.71141373 6.9375 34.5 C11.00705513 31.01196973 11.00705513 31.01196973 15 27.4375 C15.86625 26.66212891 15.86625 26.66212891 16.75 25.87109375 C18.60316243 23.09714124 18.46611698 21.26281883 18 18 C16.35399052 15.59127579 16.35399052 15.59127579 14 13.5625 C13.1853125 12.799375 12.370625 12.03625 11.53125 11.25 C8.55672333 8.60597629 5.57978311 5.96874654 2.53125 3.41015625 C1 2 1 2 0 0 Z "
                  fill="#3684D6"
                  transform="translate(261,92)"
                />
                <path
                  d="M0 0 C15.84 0 31.68 0 48 0 C48.99 2.64 49.98 5.28 51 8 C56.79480498 22.30054596 63.79964845 34.29256949 74 46 C74.54011719 46.62519531 75.08023438 47.25039063 75.63671875 47.89453125 C81.23686445 53.91786176 88.22112242 58.41827627 95 63 C96.25296875 63.85464844 96.25296875 63.85464844 97.53125 64.7265625 C107.05402391 70.82505127 118.09961477 75.08561129 129 78 C127.47048225 81.78083039 125.18109791 83.85198638 122.125 86.5 C115.84184771 91.29831062 115.84184771 91.29831062 112.4375 97.9375 C113.18614335 102.01344713 115.01000551 103.1726412 118 106 C118.87398438 106.88558594 119.74796875 107.77117187 120.6484375 108.68359375 C125.59597162 113.68074497 130.56297914 118.52956063 136 123 C131.92906567 124.35697811 128.64463472 123.37585405 124.5625 122.5 C123.30300537 122.22978027 123.30300537 122.22978027 122.01806641 121.95410156 C95.61034213 115.98553445 70.3354254 103.95542747 50 86 C48.55560547 84.75476563 48.55560547 84.75476563 47.08203125 83.484375 C24.21148055 63.43968711 5.41982277 34.2844483 0 4 C0 2.68 0 1.36 0 0 Z "
                  fill="#3684D6"
                  transform="translate(80,266)"
                />
                <path
                  d="M0 0 C9.59294479 7.2084128 17.53515252 15.99425413 20 28 C21.29990954 40.41608877 20.5811531 51.80373945 13.1875 62.25 C12.14540604 63.51706213 11.08290658 64.76763658 10 66 C9.24783203 66.90878906 9.24783203 66.90878906 8.48046875 67.8359375 C2.65850682 74.32367123 -6.22524216 79.40744367 -15.02368164 80.17700195 C-29.1328564 80.58168746 -39.98806892 79.67644157 -51 70 C-51.60585937 69.49855469 -52.21171875 68.99710937 -52.8359375 68.48046875 C-59.32367123 62.65850682 -64.40744367 53.77475784 -65.17700195 44.97631836 C-65.60115861 30.18829071 -64.28506225 18.50629413 -54 7 C-39.68853622 -5.8869946 -17.07761937 -10.99307834 0 0 Z "
                  fill="#3582D3"
                  transform="translate(261,205)"
                />
                <path
                  d="M0 0 C1.37333496 -0.01062721 1.37333496 -0.01062721 2.77441406 -0.02146912 C4.28540428 -0.01775299 4.28540428 -0.01775299 5.82691956 -0.01396179 C6.88553192 -0.01907272 7.94414429 -0.02418365 9.03483582 -0.02944946 C12.54835093 -0.0433957 16.061671 -0.0423849 19.57521057 -0.04008484 C22.00897292 -0.043969 24.44273458 -0.04830308 26.87649536 -0.05307007 C31.98352758 -0.06054312 37.09049068 -0.06023314 42.19752502 -0.05497742 C48.75290683 -0.04918141 55.30800624 -0.06611196 61.86334133 -0.08932209 C66.89125227 -0.10403014 71.91909475 -0.10493512 76.94702339 -0.10181236 C79.36442181 -0.10232705 81.78182392 -0.10759224 84.19920158 -0.11762428 C87.57529603 -0.1299145 90.95083449 -0.12324136 94.32691956 -0.11161804 C95.33222214 -0.11926178 96.33752472 -0.12690552 97.37329102 -0.13478088 C98.29166748 -0.12776657 99.21004395 -0.12075226 100.15625 -0.11352539 C100.95469047 -0.11369313 101.75313093 -0.11386087 102.57576656 -0.1140337 C105.16463726 0.35556849 106.05068397 1.20199417 107.64161682 3.26069641 C108.02980042 5.38960266 108.02980042 5.38960266 108.04005432 7.82319641 C108.04392151 8.70233704 108.0477887 9.58147766 108.05177307 10.48725891 C108.04017151 11.40249329 108.02856995 12.31772766 108.01661682 13.26069641 C108.02821838 14.17593079 108.03981995 15.09116516 108.05177307 16.03413391 C108.04790588 16.91327454 108.0440387 17.79241516 108.04005432 18.69819641 C108.03667053 19.50128235 108.03328674 20.30436829 108.02980042 21.13179016 C107.53855983 23.82588948 106.77019423 24.5722474 104.64161682 26.26069641 C102.59417725 26.63821983 102.59417725 26.63821983 100.20094299 26.64164734 C98.83816727 26.65433655 98.83816727 26.65433655 97.44786072 26.6672821 C96.45347992 26.66120941 95.45909912 26.65513672 94.43458557 26.64888 C92.86107834 26.65676544 92.86107834 26.65676544 91.25578308 26.66481018 C87.78007725 26.67803954 84.3048275 26.66926145 80.82911682 26.65913391 C78.41920381 26.66115379 76.0092914 26.66406451 73.59938049 26.66783142 C68.5453663 26.67225877 63.49151101 26.66581036 58.43751526 26.65180969 C51.95052441 26.63471778 45.46390589 26.64455674 38.97692871 26.66252708 C33.99962037 26.67335373 29.02240069 26.66992369 24.04508972 26.66214371 C21.65281633 26.66013861 19.26053495 26.66261178 16.86827087 26.66958237 C13.52817885 26.67717825 10.18869468 26.66561824 6.84864807 26.64888 C5.85426727 26.6549527 4.85988647 26.66102539 3.83537292 26.6672821 C2.92685577 26.65882263 2.01833862 26.65036316 1.08229065 26.64164734 C-0.10236031 26.63995072 -0.10236031 26.63995072 -1.3109436 26.63821983 C-3.88715467 26.16319726 -4.77629804 25.31300084 -6.35838318 23.26069641 C-6.73069763 21.02412415 -6.73069763 21.02412415 -6.72166443 18.44429016 C-6.7210199 17.51552063 -6.72037537 16.5867511 -6.7197113 15.62983704 C-6.70359802 14.66239563 -6.68748474 13.69495422 -6.67088318 12.69819641 C-6.67410583 11.72688782 -6.67732849 10.75557922 -6.6806488 9.75483704 C-6.6062108 0.01699325 -6.6062108 0.01699325 0 0 Z "
                  fill="#82A2C5"
                  transform="translate(318.35838317871094,229.7393035888672)"
                />
                <path
                  d="M0 0 C1.37333496 -0.01062721 1.37333496 -0.01062721 2.77441406 -0.02146912 C4.28540428 -0.01775299 4.28540428 -0.01775299 5.82691956 -0.01396179 C6.88553192 -0.01907272 7.94414429 -0.02418365 9.03483582 -0.02944946 C12.54835093 -0.0433957 16.061671 -0.0423849 19.57521057 -0.04008484 C22.00897292 -0.043969 24.44273458 -0.04830308 26.87649536 -0.05307007 C31.98352758 -0.06054312 37.09049068 -0.06023314 42.19752502 -0.05497742 C48.75290683 -0.04918141 55.30800624 -0.06611196 61.86334133 -0.08932209 C66.89125227 -0.10403014 71.91909475 -0.10493512 76.94702339 -0.10181236 C79.36442181 -0.10232705 81.78182392 -0.10759224 84.19920158 -0.11762428 C87.57529603 -0.1299145 90.95083449 -0.12324136 94.32691956 -0.11161804 C95.33222214 -0.11926178 96.33752472 -0.12690552 97.37329102 -0.13478088 C98.29166748 -0.12776657 99.21004395 -0.12075226 100.15625 -0.11352539 C100.95469047 -0.11369313 101.75313093 -0.11386087 102.57576656 -0.1140337 C105.16463726 0.35556849 106.05068397 1.20199417 107.64161682 3.26069641 C108.02980042 5.38960266 108.02980042 5.38960266 108.04005432 7.82319641 C108.04392151 8.70233704 108.0477887 9.58147766 108.05177307 10.48725891 C108.04017151 11.40249329 108.02856995 12.31772766 108.01661682 13.26069641 C108.02821838 14.17593079 108.03981995 15.09116516 108.05177307 16.03413391 C108.04790588 16.91327454 108.0440387 17.79241516 108.04005432 18.69819641 C108.03667053 19.50128235 108.03328674 20.30436829 108.02980042 21.13179016 C107.53855983 23.82588948 106.77019423 24.5722474 104.64161682 26.26069641 C102.59417725 26.63821983 102.59417725 26.63821983 100.20094299 26.64164734 C98.83816727 26.65433655 98.83816727 26.65433655 97.44786072 26.6672821 C96.45347992 26.66120941 95.45909912 26.65513672 94.43458557 26.64888 C92.86107834 26.65676544 92.86107834 26.65676544 91.25578308 26.66481018 C87.78007725 26.67803954 84.3048275 26.66926145 80.82911682 26.65913391 C78.41920381 26.66115379 76.0092914 26.66406451 73.59938049 26.66783142 C68.5453663 26.67225877 63.49151101 26.66581036 58.43751526 26.65180969 C51.95052441 26.63471778 45.46390589 26.64455674 38.97692871 26.66252708 C33.99962037 26.67335373 29.02240069 26.66992369 24.04508972 26.66214371 C21.65281633 26.66013861 19.26053495 26.66261178 16.86827087 26.66958237 C13.52817885 26.67717825 10.18869468 26.66561824 6.84864807 26.64888 C5.85426727 26.6549527 4.85988647 26.66102539 3.83537292 26.6672821 C2.92685577 26.65882263 2.01833862 26.65036316 1.08229065 26.64164734 C-0.10236031 26.63995072 -0.10236031 26.63995072 -1.3109436 26.63821983 C-3.88715467 26.16319726 -4.77629804 25.31300084 -6.35838318 23.26069641 C-6.73069763 21.02412415 -6.73069763 21.02412415 -6.72166443 18.44429016 C-6.7210199 17.51552063 -6.72037537 16.5867511 -6.7197113 15.62983704 C-6.70359802 14.66239563 -6.68748474 13.69495422 -6.67088318 12.69819641 C-6.67410583 11.72688782 -6.67732849 10.75557922 -6.6806488 9.75483704 C-6.6062108 0.01699325 -6.6062108 0.01699325 0 0 Z "
                  fill="#82A2C5"
                  transform="translate(59.35838317871094,229.7393035888672)"
                />
                <path
                  d="M0 0 C9.59294479 7.2084128 17.53515252 15.99425413 20 28 C21.29990954 40.41608877 20.5811531 51.80373945 13.1875 62.25 C12.14540604 63.51706213 11.08290658 64.76763658 10 66 C9.24783203 66.90878906 9.24783203 66.90878906 8.48046875 67.8359375 C2.65850682 74.32367123 -6.22524216 79.40744367 -15.02368164 80.17700195 C-29.1328564 80.58168746 -39.98806892 79.67644157 -51 70 C-51.60585937 69.49855469 -52.21171875 68.99710937 -52.8359375 68.48046875 C-59.32367123 62.65850682 -64.40744367 53.77475784 -65.17700195 44.97631836 C-65.60115861 30.18829071 -64.28506225 18.50629413 -54 7 C-39.68853622 -5.8869946 -17.07761937 -10.99307834 0 0 Z M-49.375 17.671875 C-55.45490182 26.38250357 -56.00346165 34.63089633 -55 45 C-53.10323311 53.91480438 -47.66759373 60.58554607 -40.41015625 65.89453125 C-32.11972603 70.75051713 -23.37100082 71.51859246 -14 70 C-10.22894959 68.83016595 -7.21982573 67.26580329 -4 65 C-2.9275 64.2575 -1.855 63.515 -0.75 62.75 C6.59603663 55.40396337 10.25259101 47.82803 10.5 37.375 C10.49895971 28.34530862 7.94531732 21.49204668 1.9140625 14.625 C-6.09615166 6.98016403 -13.51963625 4.30491822 -24.54858398 4.39282227 C-34.97960461 4.87870727 -42.90928834 9.53585449 -49.375 17.671875 Z "
                  fill="#0D2232"
                  transform="translate(261,205)"
                />
                <path
                  d="M0 0 C5.46114647 2.4823393 10.28924046 7.57848091 13 13 C13.48455385 18.7510982 13.85273008 24.12399383 11.4375 29.4375 C2.54546786 38.78553379 2.54546786 38.78553379 -2.828125 39.23828125 C-14.15253829 39.48390209 -14.15253829 39.48390209 -19 35 C-19.9075 34.175 -20.815 33.35 -21.75 32.5 C-26.42457644 27.30602618 -26.43863056 22.9749617 -26.30859375 16.12890625 C-25.65767721 9.52910686 -21.39764718 6.20197287 -16.5859375 2.19921875 C-11.84192736 -1.38800074 -5.67072808 -0.48467761 0 0 Z "
                  fill="#DDDEDF"
                  transform="translate(245,223)"
                />
                <path
                  d="M0 0 C2.96633325 1.65512797 4.99411056 3.59583921 7.15625 6.203125 C7.878125 7.028125 8.6 7.853125 9.34375 8.703125 C13.57657656 14.54150646 13.91620214 20.19467748 13.15625 27.203125 C10.74766582 36.40782238 6.03186771 41.23739194 -1.87890625 46.1875 C-7.57409515 49.13133522 -15.09574785 49.3641223 -21.1640625 47.484375 C-28.4816706 44.03424799 -33.17793294 38.29507107 -36.84375 31.203125 C-38.84515687 25.02267987 -38.9418838 17.73636443 -36.15625 11.828125 C-28.18645992 -1.85427685 -14.37950931 -6.46167824 0 0 Z M-28.15625 10.828125 C-32.85971081 16.482154 -32.45844889 22.01114798 -31.84375 29.203125 C-29.3614107 34.66427147 -24.26526909 39.49236546 -18.84375 42.203125 C-13.01931839 42.6938575 -7.67413046 43.08562987 -2.34375 40.515625 C-1.51875 39.7525 -0.69375 38.989375 0.15625 38.203125 C1.06375 37.378125 1.97125 36.553125 2.90625 35.703125 C7.58082644 30.50915118 7.59488056 26.1780867 7.46484375 19.33203125 C6.81392721 12.73223186 2.55389718 9.40509787 -2.2578125 5.40234375 C-10.99684615 -1.20574327 -21.84782036 3.73484379 -28.15625 10.828125 Z "
                  fill="#122738"
                  transform="translate(250.84375,219.796875)"
                />
                <path
                  d="M0 0 C0 3 0 3 -1.65234375 4.99291992 C-2.78349609 6.10050659 -2.78349609 6.10050659 -3.9375 7.23046875 C-4.74960937 8.03291016 -5.56171875 8.83535156 -6.3984375 9.66210938 C-7.25695312 10.49548828 -8.11546875 11.32886719 -9 12.1875 C-10.28777344 13.4549707 -10.28777344 13.4549707 -11.6015625 14.74804688 C-13.7278365 16.83888298 -15.86078464 18.92241983 -18 21 C-18.99 20.67 -19.98 20.34 -21 20 C-20.5059668 19.53625977 -20.01193359 19.07251953 -19.50292969 18.59472656 C-17.25132811 16.48048219 -15.00065611 14.36525079 -12.75 12.25 C-11.97269531 11.52039063 -11.19539063 10.79078125 -10.39453125 10.0390625 C-9.26337891 8.97558594 -9.26337891 8.97558594 -8.109375 7.890625 C-7.07248535 6.91657715 -7.07248535 6.91657715 -6.01464844 5.92285156 C-3.97789291 3.97890022 -1.98304026 1.99859352 0 0 Z "
                  fill="#2E71B6"
                  transform="translate(279,116)"
                />
                <path
                  d="M0 0 C0.99 0.33 1.98 0.66 3 1 C-1.62 5.62 -6.24 10.24 -11 15 C-11.33 14.01 -11.66 13.02 -12 12 C-11.30132812 11.38511719 -10.60265625 10.77023438 -9.8828125 10.13671875 C-8.51769531 8.92435547 -8.51769531 8.92435547 -7.125 7.6875 C-6.22007813 6.88699219 -5.31515625 6.08648437 -4.3828125 5.26171875 C-1.86787689 3.04188943 -1.86787689 3.04188943 0 0 Z "
                  fill="#ACB6BB"
                  transform="translate(126,132)"
                />
              </svg>
            </div>
            <Link to="/dashboard">
              Project<span className="text-[#3785d8]">Sync</span>
            </Link>
          </SidebarMenuButton>
        </SidebarMenu>
      </SidebarHeader>
      <SidebarContent>
        <SidebarGroup>
          <SidebarGroupContent>
            <SidebarMenu>
              {items.map((item) => (
                <SidebarMenuItem key={item.title}>
                  <SidebarMenuButton asChild>
                    <a href={item.url}>
                      {item.icon}
                      <span>{item.title}</span>
                    </a>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>
        <SidebarGroup>
          <SidebarGroupLabel>Project</SidebarGroupLabel>
          <SidebarGroupAction></SidebarGroupAction>
          <SidebarGroupContent>
            <SidebarMenu>
              <CreateProjectDialog fetchProjects={fetchListProject} />
              <JoinProjectDialog fetchProjects={fetchListProject} />
              {/* Tampilkan hasil fetch di sini */}
              {projects.map((project) => (
                <SidebarMenuItem key={project.id}>
                  <SidebarMenuButton asChild>
                    <a href={`/project/${project.id}`}>
                      <img
                        src={`${imgBaseUrl}/${project.icon}`}
                        className="w-6 h-6 rounded-full"
                        alt=""
                      />
                      <span>{project.title}</span>
                    </a>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>
      </SidebarContent>
      <SidebarFooter className="p-4">
        <SidebarMenu>
          <SidebarMenuItem>
            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <SidebarMenuButton>
                  <h1>{userName}</h1>
                </SidebarMenuButton>
              </DropdownMenuTrigger>
              <DropdownMenuContent
                side="top"
                className="w-[--radix-popper-anchor-width]"
              >
                <DropdownMenuItem asChild>
                  <AccountSettingsDialog></AccountSettingsDialog>
                </DropdownMenuItem>
                <DropdownMenuItem asChild>
                  <UpdatePasswordDialog></UpdatePasswordDialog>
                </DropdownMenuItem>

                <DropdownMenuItem>
                  <button
                    className="w-full text-start "
                    onClick={() => handleSignOut()}
                  >
                    Sign Out
                  </button>
                </DropdownMenuItem>
              </DropdownMenuContent>
            </DropdownMenu>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarFooter>
    </Sidebar>
  );
}
